# Styles

There are 2 elements that make up OpenPos Styles, Theme and Component Style. The theme deals with how colors are applied from the theme palette, and the Component styles drive layout including spacings and font sizes.

## Theming
The theme for the app is set via the ThemeChanged configuration message and can be changed dynamically at runtime.
The current theme is configured by ClientConfigurationSets in application.yml. Different themes can be applied using personalization parameters, or "Other Tags" that are toggled at runtime. Currently the others tags are "training-mode" and the name of the current Flow.

The theme is comprised of a color palette that is passed through various Sass mixins that are included in the parent theme class applied to the container elements for every screen and dialog. 

The theme palette is generally customized by selecting primary, accent, warn and selected colors. But more customizations can be made to the background and foreground color maps. The palette is generated by calling the core Sass function `openpos-theme-light($primary, $accent, $warn, $selected)` which is based on the palette generator for Angular Material. Optionally the a 4th parameter can be passed into that function as a map of overrides to be merged into the final built palette. 

As an example here is the default theme:
```scss
$openpos-app-primary: mat-palette($mat-blue);
$openpos-app-accent :  mat-palette($mat-blue);
$openpos-app-warn : mat-palette($mat-red, 900);
$openpos-app-selected :  mat-palette($mat-blue);
$openpos-app-success : mat-palette($mat-green);

.default-theme {
    @include nu-theme(openpos-theme-light($openpos-app-primary, $openpos-app-accent, $openpos-app-warn, $openpos-app-selected, ( success: $openpos-app-success)));
}
```

The 4th parameter can be used to override background and foreground colors by creating an addon map:

```scss
(
    background:( ... ),
    foreground:( ... )
)
```

For reference here are the core maps for background and foreground:

```scss
$openpos-foreground: (
    base: black,
    divider: $black-12-opacity,
    dividers: $black-12-opacity,
    border: map-get($mat-grey, 800),
    disabled: rgba(black, 0.38),
    disabled-button: rgba(black, 0.38),
    disabled-text: rgba(black, 0.38),
    hint-text: rgba(black, 0.38),
    secondary-text: rgba(black, 0.54),
    icon: rgba(black, 0.24),
    icons: rgba(black, 0.24),
    text: rgba(black, 0.87)
);

$openpos-background: (
    status-bar: map-get($mat-grey, 600),
    app-bar: map-get($mat-grey, 300),
    background: map-get($mat-grey, 200),
    hover: rgba(black, 0.04),
    card: white,
    dialog: white,
    disabled-button: $black-12-opacity,
    raised-button: white,
    focused-button: $black-6-opacity,
    selected-button: map-get($mat-grey, 300),
    selected-disabled-button: map_get($mat-grey, 400),
    disabled-button-toggle: map_get($mat-grey, 200)
);
```

Now that the theme has been set up it can be used to style components. The established pattern is to create a theme mixing in a `_component-theme.scss` file with the component and included in the theme class. 

An example component theme file:

```scss
@mixin order-detail-theme($theme){
    $app-primary: mat-color(map-get($theme, primary));
    $app-accent: mat-color(map-get($theme, accent));
    $app-warn: mat-color(map-get($theme, warn));

    $foreground: map-get($theme, foreground );
    $background: map-get($theme, background );

    nu-order-detail{
        background-color: map-get($background, background);

        .card-header{
            border: solid 1px map-get($foreground, divider);
        }

        .order-card{
            background-color: map-get($background, card);
            border: solid 1px map-get($foreground, divider);
        }

        .order-header{
            border: solid 1px map-get($foreground, divider);
        }
    }
}
```

## Personalization

Classes based on personalization parameters are also added to the parent containers. The classes are formatted `personalization-<name>-<value>`. These classes can be use to create specific styling for things like device type.

## Responsive Media Types

See [OpenPOS Media Documentation](../core/media/README.md) for more information on media sizing

## Typography

The core includes a set of extensible classes that when paired with the `responsive-class` directive will handle responsive font sizing. 

Example Usage:

```scss
@import "~@jumpmind/openpos-client-core-lib/theming";

.description{
  @extend %text-md;
}
```

## Spacing

The core includes a set of extensible classes that when paired with the `responsive-class` directive will provide some suggested spacing and layout for different device sizes.

Example Usage:

```scss
@import "~@jumpmind/openpos-client-core-lib/theming";

.page-container{
  @extend %page-gutter;
  @extend %page-element;
}
```
