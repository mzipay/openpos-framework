<div class="dialog-outer">
    <app-dialog-header></app-dialog-header>
    <div class="dialog-body" responsive-class>
        <mat-dialog-content>
            <ng-container *ngIf="messages && messages.length > 0">
                <div *ngFor="let m of messages" [innerHTML]="m | markdownFormatter"></div>
            </ng-container>
            <ng-container *ngIf="lines && lines.length > 0">
                <div *ngFor="let l of lines">
                    <p [class]="l.cssClass">{{l.message}}</p>
                </div>
            </ng-container>
        </mat-dialog-content>
        <mat-dialog-actions class="buttons">
            <app-secondary-button *ngFor="let m of otherButtons; let i = index" [id]="'button-' + i" (click)="doAction(m)" 
                [disabled]="!m.enabled" [actionItem]="m">
                {{m.title}}
                <span *ngIf="m.keybind && m.keybind !== 'Escape' && m.keybind !== 'Enter'" class="muted-color">({{m.keybind}})</span>
                <app-button-action-timer [action]="m" class="muted-color"></app-button-action-timer>
            </app-secondary-button>
            <app-primary-button *ngIf="primaryButton" (click)="doAction(primaryButton)" id="primaryButton"
                cdkFocusInitial [actionItem]="primaryButton">
                {{primaryButton.title}}
                <app-button-action-timer [action]="primaryButton" class="primary-inverse"></app-button-action-timer>
            </app-primary-button>
        </mat-dialog-actions>
    </div>
</div>