<!-- TODO: discuss with team to fix -->
<ng-container *ngIf="screen.name === 'CHANGE_PASSWORD'; else existingMarkupBlock">
	<mat-card class="with-header">
		<mat-card-content style="padding: 0;" (keyup.enter)="onEnter($event)">
			<mat-toolbar color="accent">
				{{screen.form.name}}
				<div style="width: 100%" fxLayout="row" fxLayoutAlign="end ">
					<button style="top: 28px" *ngIf="screen.itemAction" (click)="onItemAction(screen.itemAction, $event)" color="primary"
					 mat-fab>
						<mat-icon>{{screen.itemAction.icon}}</mat-icon>
					</button>
				</div>
			</mat-toolbar>
			<div class="pad">
				<div class="scrollable">
					<ng-container *ngFor="let formElement of screen.form.formElements">
						<div *ngIf="formElement.elementType==='Input'">
							<mat-form-field *ngIf="['AlphanumericText', 'NumericText'].indexOf(formElement.inputType) >= 0" style="width:100%">
								<input [(ngModel)]="formElement.value" #field="ngModel" matInput placeholder="{{getPlaceholderText(formElement)}}" [pattern]="formElement.pattern"
								 [required]="formElement.required" (change)="onFormElementChanged(formElement, $event)" [formatterName]="formElement.inputType">
								<ng-container *ngIf="field.invalid && (field.dirty || field.touched)">
									<mat-error div *ngIf="field.errors.required">
										* is required.
									</mat-error>
									<mat-error *ngIf="field.errors.pattern">
										* did not follow the designated pattern
									</mat-error>
								</ng-container>
							</mat-form-field>
							<mat-form-field *ngIf="'AlphanumericPassword' === formElement.inputType" style="width:100%">
								<input [(ngModel)]="formElement.value" #field="ngModel" matInput placeholder="{{getPlaceholderText(formElement)}}" 
							        [required]="formElement.required" type="password" (change)="onFormElementChanged(formElement, $event)">
								<ng-container *ngIf="field.invalid && (field.dirty || field.touched)">
									<mat-error div *ngIf="field.errors.required">
										* is required.
									</mat-error>
								</ng-container>
							</mat-form-field>
							<mat-form-field *ngIf="formElement.inputType === 'ComboBox'">
								<mat-select placeholder="{{getPlaceholderText(formElement)}}">
									<mat-option *ngFor="let value of formElement.values; let valueIndex=index" [value]="valueIndex">{{value}}</mat-option>
								</mat-select>
							</mat-form-field>
							<ng-container *ngIf="formElement.inputType === 'SubmitOptionList'">
								<label class="prompt-text">{{formElement.label}}</label>
								<mat-nav-list>
									<mat-list-item *ngFor="let value of formElement.values; let valueIndex=index" (click)="onSubmitOptionSelected(formElement, valueIndex, $event)"
									 style="border-color: black">{{value}}
										<mat-icon class="material-icons pull-right line-item-caret" style="top: 10px;">keyboard_arrow_right</mat-icon>
									</mat-list-item>
								</mat-nav-list>
							</ng-container>

						</div>
						<div *ngIf="formElement.elementType==='Display'">
							<mat-form-field style="width:100%">
								<label class="prompt-text">{{formElement.label}}</label>
								<input [(ngModel)]="formElement.value" #field="ngModel" matInput disabled>
							</mat-form-field>
						</div>
						<ng-container *ngIf="formElement.elementType==='Separator'">
							<mat-divider></mat-divider>
						</ng-container>
					</ng-container>
				</div>
			</div>
		</mat-card-content>
		<ng-container *ngIf="formButtons && formButtons.length === 1 && formButtons[0].icon; else buttonElseBlock">
			<mat-card-actions align="end" style="padding-right:20px">
				<button mat-icon-button (click)="onButtonAction(formButtons[0].buttonAction)" [appFocus]="true">
					<mat-icon>{{formButtons[0].icon}}</mat-icon>
				</button>
			</mat-card-actions>
		</ng-container>
		<ng-template #buttonElseBlock>
			<mat-card-actions>
				<ng-container *ngFor="let button of formButtons">
					<button mat-raised-button [color]="'primary'" (click)="onButtonAction(button.buttonAction)">{{button.label}}</button>
				</ng-container>
			</mat-card-actions>
		</ng-template>
	</mat-card>
</ng-container>
<ng-template #existingMarkupBlock>
		<div fxFlexFill fxLayout="column" fxLayoutAlign="start" fxLayoutGap="6px" style="padding-top:6px">
				<mat-card fxFlex="1 1 auto" class="page-content-card scrollable-content-card" fxLayout="column" fxLayoutAlign="start">
					<mat-card-content fxFlex="1 1 auto">
	<div class="pad" (keyup.enter)="onEnter($event)">
		<div style="width: 100%" fxLayout="row" fxLayoutAlign="end ">
			<button style="top: 28px" *ngIf="screen.itemAction" (click)="onItemAction(screen.itemAction, $event)" color="primary"
			 mat-fab>
				<mat-icon>{{screen.itemAction.icon}}</mat-icon>
			</button>
		</div>
		<div class="scrollable">
			<ng-container *ngFor="let formElement of screen.form.formElements">
				<div *ngIf="formElement.elementType==='Input'">
					<mat-form-field *ngIf="['AlphanumericText', 'NumericText'].indexOf(formElement.inputType) >= 0" style="width:100%">
						<input [(ngModel)]="formElement.value" #field="ngModel" matInput placeholder="{{getPlaceholderText(formElement)}}" [pattern]="formElement.pattern"
						 [required]="formElement.required" (change)="onFormElementChanged(formElement, $event)">
						<ng-container *ngIf="field.invalid && (field.dirty || field.touched)">
							<mat-error div *ngIf="field.errors.required">
								* is required.
							</mat-error>
							<mat-error *ngIf="field.errors.pattern">
								* did not follow the designated pattern
							</mat-error>
						</ng-container>
					</mat-form-field>
					<mat-form-field *ngIf="'AlphanumericPassword' === formElement.inputType" style="width:100%">
						<input [(ngModel)]="formElement.value" #field="ngModel" matInput placeholder="{{getPlaceholderText(formElement)}}" [required]="formElement.required"
						 type="password" (change)="onFormElementChanged(formElement, $event)">
						<ng-container *ngIf="field.invalid && (field.dirty || field.touched)">
							<mat-error div *ngIf="field.errors.required">
								* is required.
							</mat-error>
						</ng-container>
					</mat-form-field>
					<mat-form-field *ngIf="formElement.inputType === 'ComboBox'">
						<mat-select [(ngModel)]="formElement.value" placeholder="{{getPlaceholderText(formElement)}}">
							<mat-option *ngFor="let value of formElement.values" [value]="value">{{value}}</mat-option>
						</mat-select>
					</mat-form-field>
					<ng-container *ngIf="formElement.inputType === 'SubmitOptionList'">
						<label class="prompt-text">{{formElement.label}}</label>
						<mat-nav-list>
							<mat-list-item *ngFor="let value of formElement.values; let valueIndex=index" (click)="onSubmitOptionSelected(formElement, valueIndex, $event)"
							 style="border-color: black">{{value}}
								<mat-icon class="material-icons pull-right line-item-caret" style="top: 10px;">keyboard_arrow_right</mat-icon>
							</mat-list-item>
						</mat-nav-list>
					</ng-container>

				</div>
				<div *ngIf="formElement.elementType==='Display'">
					<mat-form-field style="width:100%">
						<label class="prompt-text">{{formElement.label}}</label>
						<input [(ngModel)]="formElement.value" #field="ngModel" matInput disabled>
					</mat-form-field>
				</div>
				<ng-container *ngIf="formElement.elementType==='Separator'">
					<mat-divider></mat-divider>
				</ng-container>
			</ng-container>
		</div>

		<ng-container *ngIf="formButtons && formButtons.length === 1 && formButtons[0].icon; else buttonElseBlock">
			<div align="end">
				<button mat-icon-button (click)="onButtonAction(formButtons[0].buttonAction)">
					<mat-icon>{{formButtons[0].icon}}</mat-icon>
				</button>
			</div>
		</ng-container>
		<ng-template #buttonElseBlock>
			<div>
				<ng-container *ngFor="let button of formButtons">
					<button mat-raised-button [color]="'primary'" (click)="onButtonAction(button.buttonAction)">{{button.label}}</button>
				</ng-container>
			</div>
		</ng-template>
	</div>
</mat-card-content>
</mat-card>
</div>
</ng-template>